$(function(){function a(a){var b=$("#neomasterplan > "+a),c=b.map(function(){return this.id}).toArray();return c}var b=$("#neomasterset"),c=$(".neomasterplus"),d=$(".neoinfo"),e=$(".neodialog"),f=$(".neodialogopen"),g=$(".neodialog > a"),h=new Array,i=new Array,j=new Array;$("input[name$='locationset']").click(function(){var a=$(this).val(),b=$(".neolocationarea");b.children("article").each(function(a){$(this).addClass("lo_"+(a+1)),$(this).css({opacity:"0"})}),$(".lo_"+a).css({opacity:"1"})}),j.push("http://placehold.it/1200x650?text=Image+1"),j.push("http://placehold.it/1200x650?text=Image+2"),j.push("http://placehold.it/1200x650?text=Image+3"),j.push("http://placehold.it/1200x650?text=Image+4"),j.push("http://placehold.it/1200x650?text=Image+5"),$.each(j,function(a,b){a++,$("#neogallery").append('<div class="neogallery" data-src="'+b+'" data-order="'+a+'"></div>')}),$(".neogallery").each(function(){var a=$(this).attr("data-order"),b=$(this).attr("data-src");$("#camera"+a).magnificPopup({type:"image",callbacks:{elementParse:function(a){m(),h=[],a.src=b}}})}),$(window).on("load",function(){b.each(function(){var b=$(this).attr("data-show"),c=a("polygon"),d=a("path"),e=c.concat(d),f=a("rect"),g=e.concat(f);$.each(g,function(a,b){b.indexOf("_bl")>=0&&$("#"+b).css({fill:"#d7d8d6"})});var h=b.split(",");$.each(h,function(a,b){$("#_bl"+b+"_").css({fill:"#2d257d"}),i.push(b)})}),c.each(function(){var b=$(this).attr("data-type");if("main"==b){var c=$(this).attr("data-show"),d=a("use");$.each(d,function(a,b){b.indexOf("plus")>=0&&$("#"+b).css({opacity:"0"})});var e=c.split(",");$.each(e,function(a,b){$("#plus"+b).css({opacity:"1"}),$("#plus"+b).css({cursor:"pointer"}),$("#plus"+b).title="test"})}})}),$("input[name$='masterset']").click(function(){m(),h=[],i=[];var b=$(this).val(),f=$(this).attr("data-type"),g=a("polygon"),j=a("path"),k=g.concat(j),l=a("rect"),n=k.concat(l);$.each(n,function(a,b){b.indexOf("_bl")>=0&&$("#"+b).css({fill:"#d7d8d6"})});var o=$(this).attr("data-show"),p=o.split(",");$.each(p,function(a,b){$("#_bl"+b+"_").css({fill:"#2d257d"}),i.push(b)}),d.each(function(){$(this).css({opacity:"0"})}),$("#neoinfo"+b).css({opacity:"1"});var q=a("use");$.each(q,function(a,b){b.indexOf("plus")>=0&&($("#"+b).css({opacity:"0"}),$("#"+b).css({display:"none"}))}),c.each(function(){if(f==$(this).attr("data-type")){var a=$(this).attr("data-show"),b=a.split(",");$.each(b,function(a,b){$("#plus"+b).css({opacity:"1"}),$("#plus"+b).css({display:"block"}),$("#plus"+b).css({cursor:"pointer"})})}}),e.each(function(){f!=$(this).attr("data-type")?$(this).addClass("neohide"):$(this).removeClass("neohide")})}),$(".neoinfo > a").on("click",function(a){$(".neoinfo").css({opacity:"0"}),a.preventDefault()});var k=function(a){var b=a.replace(/plus|bl|_/gi,"");return b},l=function(a,b){var c=a.position().top,d=a.position().left,e=a[0].getBoundingClientRect().width,f=new Array;switch(b){case"left":f.top=c+100,f.left=d-180,d-180<=210&&(f.left=d+100);break;case"right":f.top=c+100;var g=$(window).width(),h=d+210+e;h+320>=g&&(h=g-200),f.left=h}return f.width=e,f},m=function(){$.each(h,function(a,b){$("#plus"+b).css({opacity:"1",display:"block",cursor:"pointer"});var c=b.replace("plus",""),d=$("#_bl"+c+"_"),f=$(".text"+c);d.css({fill:"rgb(45, 37, 125)",stroke:"rgb(45, 37, 125)","stroke-width":"0"}),e.css({visibility:"hidden","margin-top":"100px",opacity:"0"}),f.css({fill:"#fff"})})},n=function(a,b){return b.indexOf(a)>-1};f.click(function(a){var b=k(this.id);$("#"+b);e.each(function(){var a=$(this).attr("data-layout");$(this).addClass("neo__"+a);var c=$(this).attr("data-position"),d=$(this).attr("data-id");if(!$(this).hasClass("neohide")&&d==b){if(0==n(b,i))return!1;m(),h=[],h.push(b);var e=$("#"+this.id),f=$("#_bl"+b+"_"),g=l(f,c),j=$(".text"+b),k=$("#plus"+b);switch(a){case"white":f.css({fill:"#fff"}),j.css({fill:"rgb(45, 37, 125)"});break;default:f.css({fill:"#15bef0"}),j.css({fill:"rgb(45, 37, 125)"})}f.css({stroke:"rgb(45, 37, 125)","stroke-width":"2"}),e.css({visibility:"visible","margin-top":"-100px",opacity:"1"}),k.css({opacity:"0",display:"none"}),e.css({top:g.top,left:g.left}).show()}}),a.preventDefault()}),g.click(function(a){var b=$(this).closest("div").attr("id"),c=$("#"+b),d=c.attr("data-id"),e=$("#_bl"+d+"_"),f=$("#plus"+d),g=$(".text"+d),i=h.indexOf("plus"+d);h.splice(i,1),e.css({fill:"rgb(45, 37, 125)",stroke:"rgb(45, 37, 125)","stroke-width":"0"}),c.css({visibility:"hidden","margin-top":"100px",opacity:"0"}),f.css({opacity:"1",display:"block"}),g.css({fill:"#fff"}),a.preventDefault()})}),$(document).ready(function(){!function(){options={style:"gray",size:"22px",opacity:.8};var a=document.createElement("script");a.type="text/javascript",a.async="async",a.src="http://www.neoscape.com/_remotebranding/neocredit-1.1.0.min.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()});